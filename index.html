<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBM-GO | Explore The World</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'bbm-primary': '#ff7900', // Bright Orange (Accent, Buttons)
                        'bbm-secondary': '#2E8D87', // Teal (Contrast, Headers)
                        'bbm-background': '#F2E0C8', // Cream (Background)
                        'bbm-text': '#0A1933', // Deep Navy for contrast on light background
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'], 
                    },
                }
            }
        }
    </script>
    <style>
        .hero-bg {
            background-image: url('placeholder-hero-image.jpg'); /* Replace with one of the 5 images you provide */
            background-size: cover;
            background-position: center;
        }
        .modal {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            max-height: 80vh; /* Limit content height */
        }
    </style>
</head>
<body class="bg-bbm-background text-bbm-text font-sans antialiased">

    <nav class="sticky top-0 z-50 bg-bbm-secondary shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <a href="index.html" class="text-3xl font-extrabold text-bbm-background tracking-tight">
                    BBM<span class="text-bbm-primary">-GO</span>
                </a>
                
                <div class="space-x-8 hidden md:flex text-lg font-semibold">
                    <a href="index.html" class="text-bbm-background hover:text-bbm-primary transition-colors">Home</a>
                    <a href="about.html" class="text-bbm-background hover:text-bbm-primary transition-colors">About</a>
                    <a href="#packages" class="text-bbm-background hover:text-bbm-primary transition-colors">Packages</a>
                    <a href="about.html#contact" class="text-bbm-background hover:text-bbm-primary transition-colors">Contact</a>
                </div>
                
                <button id="menu-button" class="md:hidden text-bbm-background p-2 focus:outline-none">
                    <i data-feather="menu" class="w-6 h-6"></i>
                </button>
            </div>
            
            <div id="mobile-menu" class="hidden md:hidden mt-4 space-y-2 pb-2 text-center">
                <a href="index.html" class="block text-bbm-background hover:bg-bbm-primary/20 hover:text-bbm-primary py-2 px-3 rounded text-lg font-semibold transition-colors">Home</a>
                <a href="about.html" class="block text-bbm-background hover:bg-bbm-primary/20 hover:text-bbm-primary py-2 px-3 rounded text-lg font-semibold transition-colors">About</a>
                <a href="#packages" class="block text-bbm-background hover:bg-bbm-primary/20 hover:text-bbm-primary py-2 px-3 rounded text-lg font-semibold transition-colors">Packages</a>
                <a href="about.html#contact" class="block text-bbm-background hover:bg-bbm-primary/20 hover:text-bbm-primary py-2 px-3 rounded text-lg font-semibold transition-colors">Contact</a>
            </div>
        </div>
    </nav>
    
    <header class="hero-bg h-[90vh] flex items-center justify-center relative">
     
      <div class="absolute inset-0 bg-bbm-secondary opacity-60"></div>
      <div class="relative text-center p-8">
          <h1 class="text-6xl md:text-8xl font-black text-bbm-background mb-8 leading-tight tracking-wider" style="text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.9);">
              EXPLORE THE WORLD <br>WITH <span class="text-bbm-primary">BBM-GO</span>
          </h1>
          
          <form class="max-w-4xl mx-auto flex flex-col md:flex-row gap-3 bg-bbm-background p-6 rounded-xl shadow-2xl">
              <input type="text" placeholder="Where do you want to go? (e.g., Clarens, Gariep)" 
                     class="flex-grow p-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-bbm-primary text-lg">
              <input type="date" value="2025-12-01"
                     class="p-4 border-2 border-gray-300 rounded-lg text-lg">
              <button type="submit" class="bg-bbm-primary hover:bg-bbm-secondary text-bbm-background font-bold py-4 px-8 rounded-lg uppercase text-lg transition-colors">
                  Search
              </button>
          </form>
      </div>
  </header>

    <section id="packages" class="py-20">
        <div class="container mx-auto px-6">
            <h2 class="text-5xl font-extrabold text-center mb-16 text-bbm-secondary">‚úàÔ∏è Our Popular Free State Drops</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">

                <div class="bg-white rounded-xl shadow-xl overflow-hidden transform hover:scale-[1.03] transition-transform duration-300">
                    <div class="h-48 bg-gray-200">
                      <img src="item1.png" alt="Clarens mountain view" class="w-full h-full object-cover">

                    </div>
                    <div class="p-5">
                        <h3 class="text-2xl font-bold text-bbm-secondary mb-2">Clarens (Jewel of the Free State)</h3>
                        <p class="text-sm font-medium text-bbm-text/70 mb-4">Mountain adventures and artistic charm.</p>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center bg-bbm-background p-3 rounded-lg">
                                <span class="font-semibold text-bbm-text">Dec '25 - Jan '26</span>
                                <span class="text-bbm-primary font-extrabold">from R3,700.00 pp</span>
                            </div>
                            <div class="flex justify-between items-center bg-bbm-background p-3 rounded-lg">
                                <span class="font-semibold text-bbm-text">Mar '26 - Apr '26</span>
                                <span class="text-bbm-primary font-extrabold">from R4,000.00 pp</span>
                            </div>
                        </div>
                        <button data-package-id="clarens" class="view-details-btn mt-4 block w-full text-center bg-bbm-primary text-white py-2 rounded-lg hover:bg-bbm-secondary transition-colors font-medium">View Details</button>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-xl overflow-hidden transform hover:scale-[1.03] transition-transform duration-300">
                  <div class="h-48 bg-gray-200">
                      <img src="item11.jpg" alt="Gariep Dam view with watersports" class="w-full h-full object-cover">
                  </div>
                  <div class="p-5">
                      <h3 class="text-2xl font-bold text-bbm-secondary mb-2">Gariep</h3>
                      <p class="text-sm font-medium text-bbm-text/70 mb-4">Watersports and massive dam views.</p>
                      <div class="space-y-3">
                          <div class="flex justify-between items-center bg-bbm-background p-3 rounded-lg">
                              <span class="font-semibold text-bbm-text">Dec '25 - Feb '26</span>
                              <span class="text-bbm-primary font-extrabold">from R3,600.00 pp</span>
                          </div>
                          <div class="flex justify-between items-center bg-bbm-background p-3 rounded-lg">
                              <span class="font-semibold text-bbm-text">Sep '26 - Oct '26</span>
                              <span class="text-bbm-primary font-extrabold">from R4,200.00 pp</span>
                          </div>
                      </div>
                      <button data-package-id="gariep" class="view-details-btn mt-4 block w-full text-center bg-bbm-primary text-white py-2 rounded-lg hover:bg-bbm-secondary transition-colors font-medium">View Details</button>
                  </div>
              </div>
                
                <div class="bg-white rounded-xl shadow-xl overflow-hidden transform hover:scale-[1.03] transition-transform duration-300">
                    <div class="h-48 bg-gray-200">
                      <img src="item10.jpg" alt="Parys Vredefort Dome" class="w-full h-full object-cover">

                    </div>
                    <div class="p-5">
                        <h3 class="text-2xl font-bold text-bbm-secondary mb-2">Parys</h3>
                        <p class="text-sm font-medium text-bbm-text/70 mb-4">Vredefort Dome and Vaal River activities.</p>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center bg-bbm-background p-3 rounded-lg">
                                <span class="font-semibold text-bbm-text">Jan '26 - Feb '26</span>
                                <span class="text-bbm-primary font-extrabold">from R3,550.00 pp</span>
                            </div>
                            <div class="flex justify-between items-center bg-bbm-background p-3 rounded-lg">
                                <span class="font-semibold text-bbm-text">Oct '26 - Nov '26</span>
                                <span class="text-bbm-primary font-extrabold">from R3,700.00 pp</span>
                            </div>
                        </div>
                        <button data-package-id="parys" class="view-details-btn mt-4 block w-full text-center bg-bbm-primary text-white py-2 rounded-lg hover:bg-bbm-secondary transition-colors font-medium">View Details</button>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-xl overflow-hidden transform hover:scale-[1.03] transition-transform duration-300">
                    <div class="h-48 bg-gray-200">
                      <img src="item8.jpg" alt="Bloemfontein Imvelo Safari Lodge" class="w-full h-full object-cover">

                    </div>
                    <div class="p-5">
                        <h3 class="text-2xl font-bold text-bbm-secondary mb-2">Bloemfontein (Imvelo Safari)</h3>
                        <p class="text-sm font-medium text-bbm-text/70 mb-4">City charm mixed with safari escapes.</p>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center bg-bbm-background p-3 rounded-lg">
                                <span class="font-semibold text-bbm-text">Dec '26 - Feb '26</span>
                                <span class="text-bbm-primary font-extrabold">from R1,550.00 pp</span>
                            </div>
                            <div class="flex justify-between items-center bg-bbm-background p-3 rounded-lg">
                                <span class="font-semibold text-bbm-text">Sep '26 - Nov '26</span>
                                <span class="text-bbm-primary font-extrabold">from R1,700.00 pp</span>
                            </div>
                        </div>
                        <button data-package-id="bloemfontein" class="view-details-btn mt-4 block w-full text-center bg-bbm-primary text-white py-2 rounded-lg hover:bg-bbm-secondary transition-colors font-medium">View Details</button>
                    </div>
                </div>

            </div>
            
            <div class="text-center mt-12">
                <a href="about.html#contact" class="inline-block bg-bbm-secondary hover:bg-bbm-primary text-white font-bold py-4 px-10 rounded-full text-lg uppercase transition-colors shadow-lg">
                    Request a Customized Package
                </a>
            </div>
        </div>
    </section>

    <div id="package-modal" class="modal fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 opacity-0 pointer-events-none">
        
        <div class="modal-content bg-white rounded-xl shadow-2xl w-full max-w-2xl m-4 overflow-y-auto transform scale-95 transition-transform duration-300">
            
            <div class="p-6 bg-bbm-secondary rounded-t-xl flex justify-between items-center sticky top-0 z-10">
                <h3 id="modal-title" class="text-3xl font-extrabold text-bbm-background">Package Title</h3>
                <button id="close-modal-btn" class="text-bbm-background hover:text-bbm-primary p-2 transition-colors">
                    <i data-feather="x" class="w-8 h-8"></i>
                </button>
            </div>
            
            <div class="p-6 space-y-6 text-bbm-text">
                
                <div class="flex justify-between items-center border-b pb-4">
                    <p class="text-xl font-bold">Price: <span id="modal-price" class="text-bbm-primary">R0.00 pp</span></p>
                    <p class="text-lg font-medium">Duration: <span id="modal-duration">3 Days / 2 Nights</span></p>
                </div>

                <div id="modal-notes-container" class="hidden bg-bbm-background p-4 rounded-lg border-l-4 border-bbm-primary">
                    <p class="font-semibold text-sm text-bbm-text">Important Notes:</p>
                    <div id="modal-notes" class="text-sm">
                        </div>
                </div>
                <div>
                    <h4 class="text-2xl font-semibold mb-3 text-bbm-secondary border-l-4 border-bbm-primary pl-3">Description</h4>
                    <p id="modal-description" class="text-md leading-relaxed"></p>
                </div>
                
                <div>
                    <h4 class="text-2xl font-semibold mb-3 text-bbm-secondary border-l-4 border-bbm-primary pl-3">What's Included</h4>
                    <ul id="modal-inclusions" class="list-none space-y-2 text-md">
                        </ul>
                </div>

                <div>
                    <h4 class="text-2xl font-semibold mb-3 text-bbm-secondary border-l-4 border-bbm-primary pl-3">Not Included</h4>
                    <ul id="modal-exclusions" class="list-none space-y-2 text-md text-red-700">
                        </ul>
                </div>

                <div class="pt-4 border-t text-center">
                    <a href="https://wa.me/27782870120?text=I%20would%20like%20to%20book%20a%20package." class="inline-block bg-bbm-primary hover:bg-bbm-secondary text-white font-bold py-3 px-8 rounded-lg uppercase text-lg transition-colors">
                        Book This Package Now
                    </a>
                </div>
            </div>
            
        </div>
    </div>
    <footer class="bg-bbm-secondary text-bbm-background py-12">
        <div class="container mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <h3 class="text-2xl font-bold mb-4 text-bbm-primary">BBM-GO</h3>
                <p class="text-sm">Your trusted partner in creating unforgettable travel experiences across South Africa and the World.</p>
            </div>
            <div>
                <h3 class="text-xl font-semibold mb-4">Quick Links</h3>
                <ul class="space-y-2 text-sm">
                    <li><a href="index.html" class="hover:text-bbm-primary">Home</a></li>
                    <li><a href="about.html" class="hover:text-bbm-primary">About Us</a></li>
                    <li><a href="#packages" class="hover:text-bbm-primary">Packages</a></li>
                    <li><a href="about.html#faq" class="hover:text-bbm-primary">FAQs</a></li>
                    <li><a href="about.html#contact" class="hover:text-bbm-primary">Contact</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-xl font-semibold mb-4">Contact</h3>
                <p class="text-sm">üìû 078 287 0120</p>
                <p class="text-sm">üìß admin@bbmholdings.co.za</p>
            </div>
            <div>
                <h3 class="text-xl font-semibold mb-4">Follow Us</h3>
                <div class="flex space-x-4">
                    <a href="https://www.facebook.com/BBMabala?mibextid=ZbWKwL" target="_blank" class="hover:text-bbm-primary"><i data-feather="facebook" class="w-6 h-6"></i></a>
                    <a href="https://www.instagram.com/bbm_go1?igsh=em1pbWt1YzJtcmlp" target="_blank" class="hover:text-bbm-primary"><i data-feather="instagram" class="w-6 h-6"></i></a>
                    <a href="https://www.tiktok.com/@bbm_go?_t=8qL09XrDfUM&_r=1" target="_blank" class="hover:text-bbm-primary"><i data-feather="send" class="w-6 h-6"></i></a> <a href="https://wa.me/c/27782870120" target="_blank" class="hover:text-bbm-primary"><i data-feather="message-circle" class="w-6 h-6"></i></a>
                </div>
            </div>
        </div>
        <div class="text-center text-sm mt-8 border-t border-bbm-background/20 pt-4">
            &copy; 2025 BBM-GO. All rights reserved.
        </div>
    </footer>

    <script>
        feather.replace();

        // --- 1. PACKAGE DATA (UPDATED) ---
        const packageDetails = {
            clarens: {
    title: "Clarens: Jewel of the Free State Adventure",
    price: "R3,600.00",
    duration: "3 Days / 2 Nights",
    description: `Nestled in the foothills of the Maluti Mountains and often called the "Jewel of the Free
State," Clarens is a charming village renowned for its golden sandstone cliffs, vibrant
arts scene, and wealth of outdoor adventures. Visitors can explore the dramatic
landscapes of the nearby Golden Gate Highlands National Park through hiking or scenic
drives, seek adrenaline on white-water rafting trips on the Ash River or zip-lining
adventures, or enjoy more serene pursuits like hot air ballooning at sunrise, horse riding
through the mountains, and browsing the many independent art galleries and boutiques
in the village square. Major attractions include the park's iconic cliffs and wildlife, the
historical Surrender Hill, the immersive Basotho Cultural Village, and the fascinating
discovery of dinosaur fossils embedded in the local sandstone. The experience is
complemented by excellent local cuisine at spots like Clementines Restaurant or The
Courtyard Bakery, craft beer at the Clarens Brewery, and relaxation at various wellness
spas. This package focuses on the area's thrilling side, including adrenaline activities and exploring the dramatic landscapes of the nearby Golden Gate Highlands National Park, the Basotho Cultural Village, and the unique local dinosaur fossil sites.`,
    inclusions: [
        "2 nights accommodation at a preferred guesthouse or lodge.",
        "Breakfast for 2 days (Daily breakfast for duration of stay).",
        "Transport (Local transfers for included activities).",
        "Activity pass for Clarens Xtreme (for specified activities).",
        "Zipline adventure session.",
        "Crafted Beer and Wine Tasting at a local brewery/vintner.",
        "Paintball session.",
        "Visit and scenic drive through Golden Gate Highlands National Park.",
        "Visit to the Kgodumodumo dinosaur center.",
    ],
    exclusions: [
        "Lunch and Dinner meals (allowing flexibility for local cuisine).",
        "Optional activities like hot air ballooning or white-water rafting.",
        "Personal shopping and gratuities."
    ],
    notes: {
        deposit: "R1,000.00 per person required to secure the booking.",
        sharing_rate: "Price is based on per person sharing."
    }
},

            
gariep: {
    title: "Gariep: Water Sports & Karoo Adventure",
    price: "R3,600.00",
    duration: "3 Days / 2 Nights", // Updated to 2 nights based on new inclusions
    description: `Centered around its monumental namesake‚Äîthe largest dam in South Africa, spanning
over 36,000 hectares on the Orange River‚ÄîGariep is a young town ideally positioned
between Johannesburg and Cape Town and serves as a premier destination for
water-based adventures and serene Karoo landscapes. Visitors are drawn to the vast
Gariep Dam Nature Reserve, home to South Africa's largest herd of springbok and other
wildlife like Cape Mountain zebra, for activities ranging from game drives and bird
watching to hiking and horse riding. The dam itself is a hub for water sports, including
sailing, powerboating, canoeing, angling, and waterskiing, with organized boat cruises
offering scenic tours. Other key attractions include fascinating tours of the massive
dam wall, the family-friendly Aventura (Forever) Resort with amenities from golf to
tennis, and nearby historical sites like the Norvalspont Concentration Camp Graveyard.
For more active pursuits, the area offers mountain biking trails, 4x4 routes, and annual
events like the February Water Sport Festival and Rubber Duck Race, ensuring a
dynamic mix of relaxation and adventure.`,
    inclusions: [
        "2 nights accommodation at a preferred resort.", // Updated duration
        "Transport (Local transfers for activities).",
        "Daily Lunch and Dinner.", // Full board minus breakfast on departure
        "Breakfast for 2 days (Daily breakfast for duration of stay).",
        "Scenic Boat Cruise on the Gariep Dam.",
        "Access to Gariep Dam Nature Reserve for game viewing.", // New inclusion based on description
    ],
    exclusions: [
        "Fuel and specialized equipment rental for water sports (e.g., jet skiing).",
        "Fishing licenses and gear.",
        "Optional activities like horse riding, mountain biking, or 4x4 routes.",
        "Travel insurance."
    ],
    notes: {
        deposit: "R800.00 per person required to secure the booking.",
        sharing_rate: "Price is based on per person sharing."
    }
},

parys: {
    title: "Parys: Vredefort Dome Adventure Hub",
    price: "R3,550.00",
    duration: "3 Days / 2 Nights", // Updated to 2 nights based on new inclusions
    description: `Nestled on the scenic banks of the Vaal River in South Africa's Free State province, the
charming town of Parys was named in 1876 by a German surveyor who was reminded
of Paris, France, by its river setting. Today, it serves as a gateway to adventure and
relaxation, offering visitors a vibrant mix of adrenaline-pumping activities like
white-water rafting, abseiling, skydiving over the meteorite crater, and 4x4 trails,
alongside more leisurely pursuits such as exploring art galleries, antique shops, and the
nostalgic Candy Shop filled with retro sweets. The town's major attractions are equally
diverse, anchored by the surrounding Vredefort Dome‚Äîa UNESCO World Heritage Site
representing the world's oldest and largest meteorite impact crater. This package is an adventure hub, offering a blend of adrenaline sports and nature exploration within this geologically unique region. Activities include nature hiking, mountain biking, quad biking, and paintball.`, 
    inclusions: [
        "2 nights Accommodation.", // Updated duration
        "Transport (Local transfers for included activities).",
        "Guided Hiking excursion.",
        "Access to Swimming facilities.",
        "Organized Birdwatching activity.",
        "Mountain Biking trail access.",
        "Paintball session.",
        "Game Drive (at a local conservancy).",
        "Quad Biking session.",
        "Archery session.",
        "Breakfasts and Dinners (Full board arrangement will depend on chosen lodge)." // Added meal note for clarity
    ],
    exclusions: [
        "White-water rafting or abseiling (available as optional extras).", // Moved major activities to exclusions/options
        "Exploring art galleries, antique shops, and the nostalgic Candy Shop.",
        "Gratuities and personal shopping."
    ],
    notes: {
        deposit: "R800.00 per person required to secure the booking.",
        sharing_rate: "Price is based on per person sharing."
    }
},
bloemfontein: {
    title: "Bloemfontein: City of Roses & Imvelo Safari Adventure",
    price: "R1,350.00",
    duration: "3 Days / 2 Nights",
    description: `Known as the "City of Roses" for its abundance of these flowers and the annual rose
festival it hosts, Bloemfontein serves as South Africa's judicial capital and the provincial
heart of the Free State, situated on a high plateau at 1,395 meters above sea level.
Tourists can experience one of the city's most unique features at the Naval Hill Nature
Reserve and the Franklin Game Reserve, where wildlife like giraffe, zebra, and springbok
roam on a hill within the city limits, or explore its rich cultural heritage at institutions like
the Oliewenhuis Art Museum, the National Museum, and the Anglo-Boer War Museum.
Other major attractions include the beautiful Free State National Botanical Garden, the
Loch Logan Waterfront for shopping and dining, wildlife interactions at the Bagamoya
Estate, and significant landmarks like the National Women's Monument and the
towering Nelson Mandela statue on Naval Hill.`,
    inclusions: [
        "2 nights accommodation at Imvelo Safari Lodge.",
        "Transport (Local transfers for activities and city sights).",
        "Daily Breakfast.",
        "Daily Lunch & Dinner (Full Board).",
        "Paintball session.",
        "One afternoon Game Drive.",
        "Quad Biking session.",
        "Welcoming Drinks upon arrival.",
        "Visit to Naval Hill Nature Reserve and/or National Museum."
    ],
    exclusions: [
        "Lunches on arrival/departure day.",
        "Alcoholic beverages outside of welcoming drinks.",
        "Curio shop purchases and personal expenses."
    ],
    notes: {
        deposit: "R800.00 per person required to secure the booking.",
        sharing_rate: "Price is based on per person sharing."
    }
}
        };

        // --- 2. MODAL LOGIC (MODIFIED) ---
        const modal = document.getElementById('package-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const viewDetailsButtons = document.querySelectorAll('.view-details-btn');

        const modalTitle = document.getElementById('modal-title');
        const modalPrice = document.getElementById('modal-price');
        const modalDuration = document.getElementById('modal-duration');
        const modalDescription = document.getElementById('modal-description');
        const modalInclusions = document.getElementById('modal-inclusions');
        const modalExclusions = document.getElementById('modal-exclusions');
        const modalNotesContainer = document.getElementById('modal-notes-container'); // NEW
        const modalNotes = document.getElementById('modal-notes'); // NEW
        const modalContent = modal.querySelector('.modal-content');

        const openModal = (packageId) => {
            const data = packageDetails[packageId];
            if (!data) return;

            // 1. Populate Modal Content
            modalTitle.textContent = data.title;
            modalPrice.textContent = `${data.price} pp`;
            modalDuration.textContent = data.duration;
            modalDescription.textContent = data.description;
            
            // Function to generate list items (unchanged)
            const populateList = (ulElement, items, isExclusion = false) => {
                ulElement.innerHTML = ''; 
                items.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'flex items-start';
                    const icon = isExclusion 
                        ? '<i data-feather="x-circle" class="w-5 h-5 mr-3 flex-shrink-0 mt-1 text-red-500"></i>'
                        : '<i data-feather="check-circle" class="w-5 h-5 mr-3 flex-shrink-0 mt-1 text-bbm-secondary"></i>';
                    
                    li.innerHTML = `${icon} <span>${item}</span>`;
                    ulElement.appendChild(li);
                });
                feather.replace(); 
            };

            populateList(modalInclusions, data.inclusions, false);
            populateList(modalExclusions, data.exclusions, true);

            // 2. Populate and Show Notes (NEW LOGIC)
            modalNotes.innerHTML = '';
            if (data.notes) {
                // Populate notes content
                const depositHtml = `<p class="mt-1"><span class="font-bold text-bbm-primary">Deposit:</span> ${data.notes.deposit}</p>`;
                const sharingHtml = `<p><span class="font-bold text-bbm-primary">Rate Type:</span> ${data.notes.sharing_rate}</p>`;
                modalNotes.innerHTML = depositHtml + sharingHtml;
                // Show the container
                modalNotesContainer.classList.remove('hidden');
            } else {
                // Hide the container if no notes exist
                modalNotesContainer.classList.add('hidden');
            }

            // 3. Show Modal
            modal.classList.remove('opacity-0', 'pointer-events-none');
            modalContent.classList.remove('scale-95');
            document.body.style.overflow = 'hidden'; 
        };

        const closeModal = () => {
            // 1. Hide Modal
            modal.classList.add('opacity-0', 'pointer-events-none');
            modalContent.classList.add('scale-95');
            document.body.style.overflow = ''; 
        };

        // Event Listeners (unchanged)
        viewDetailsButtons.forEach(button => {
            button.addEventListener('click', () => {
                const packageId = button.getAttribute('data-package-id');
                openModal(packageId);
            });
        });

        closeModalBtn.addEventListener('click', closeModal);

        // Close modal when clicking outside (on the backdrop)
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });

        // Close modal when pressing the ESC key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('opacity-0')) {
                closeModal();
            }
        });
        
        // JAVASCRIPT FOR MOBILE MENU TOGGLE (unchanged)
        document.addEventListener('DOMContentLoaded', () => {
            const menuButton = document.getElementById('menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            menuButton.addEventListener('click', () => {
                const icon = menuButton.querySelector('i');
                if (mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.remove('hidden');
                    icon.setAttribute('data-feather', 'x');
                } else {
                    mobileMenu.classList.add('hidden');
                    icon.setAttribute('data-feather', 'menu');
                }
                feather.replace();
            });
        });
    </script>
</body>

</html>
